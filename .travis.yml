sudo: false
language: node_js
node_js:
  - "lts/*"
before_deploy:
  - echo "# Created by .travis.yaml" > .gitignore
  - echo "*.lock.js" >> .gitignore
  - echo "Documentation/README.html" >> .gitignore
  - echo "gulpfile.js" >> .gitignore
  - echo "node_modules/" >> .gitignore
  - echo "README.md" >> .gitignore
  - echo "src/" >> .gitignore
  - yarn build
  - git add Documentation assets
  - git commit -m "rebuild"
  - git push
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  on:
    branch: master
git:
  depth: 1
branches:
  only:
  - master
cache:
  timeout: 1800
  yarn: true
  directories:
    - node_modules
notifications:
  email: false